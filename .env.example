# Backend & Bot configuration
# Copy this file to .env and fill in your values. You can use ANY ONE of the
# following Firebase Admin credential methods. If multiple are set, priority is:
# FIREBASE_CONFIG_JSON > FIREBASE_CONFIG_BASE64 > GOOGLE_APPLICATION_CREDENTIALS > config/firebase-key.json

# Enforce Firebase-only mode (no local JSON mock fallback). If true and creds are missing, startup will fail.
REQUIRE_FIREBASE=true

# Firebase Admin credentials (choose ONE)
# 1) Paste your Service Account JSON directly (escape newlines in private_key as \n)
# FIREBASE_CONFIG_JSON={"type":"service_account","project_id":"your-project-id","private_key_id":"...","private_key":"-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n","client_email":"firebase-adminsdk@your-project-id.iam.gserviceaccount.com","client_id":"...","token_uri":"https://oauth2.googleapis.com/token"}
# 2) Or provide the same JSON, Base64-encoded
# FIREBASE_CONFIG_BASE64=eyJ0eXBlIjoi... (base64 of your service account JSON)
# 3) Or point to a local JSON file path (absolute or relative)
# GOOGLE_APPLICATION_CREDENTIALS=C:\\path\\to\\service-account.json
FIREBASE_CREDENTIALS_FILE=./config/firebase-key.json
# Optional explicit project id override if not present in JSON
# FIREBASE_PROJECT_ID=your-project-id

# Web/API
PORT=5000
API_BASE_URL=http://localhost:5000

# Bot behavior
SELF_BOT=true
SELF_BOT_PREFIX=!
SELF_BOT_FREE_CHAT=true
SHOW_QR=true
SEND_REGISTRATION_PROMPTS=false

# Class reminder settings
# Minutes before class start to send alert
CLASS_NOTIFY_LEAD_MIN=5
# Check interval in seconds (cron runs every minute but this can be useful elsewhere)
CLASS_NOTIFY_INTERVAL_SEC=60

## LLM provider selection
# Enable LLM support (ChatGPT-like answers)
USE_OPENAI=true
# Route general chat to the LLM by default
USE_LLM=true
ALWAYS_USE_LLM=true

# OpenRouter (recommended free-tier/flexibility)
# OPENAI_BASE_URL=https://openrouter.ai/api/v1
# OPENAI_API_KEY=sk-or-...
# OPENAI_MODEL=openai/gpt-4o-mini

# OpenAI direct
# OPENAI_API_KEY=sk-...
OPENAI_MODEL=gpt-4o-mini

CHAT_HISTORY_MAX=8

# RAG (user knowledge base)
USE_RAG=true
OPENAI_EMBED_MODEL=text-embedding-3-small
OPENAI_SYSTEM_PROMPT=You are Study Planner Bot. Be concise and helpful.
